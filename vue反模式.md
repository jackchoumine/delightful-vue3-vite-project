# vue 中常见的反模式

模式：软件设计公认的好的设计模式。

反模式：不好的设计，应该要避免的设计方法。

## 在计算属性中执行副作用

计算属性只有依赖其他组件状态计算新的状态时才使用，不要在计算属性中执行函数和赋值操作。

## 子组件修改 props

子组件直接修改父组件传递过来的 props，可能会引发一些问题：

- 打破单项数据流，可能导致意外的 bug

> 二次封装表单组件，直接使用 prop 绑定到`v-model`，也是直接修改 prop 的一种，这点容易被忽略。

> 解决方案：

① 触发事件，让父组件修改

② 把 props 转为 state

## 通过`$parent`或者`$children`直接修改组件属性

容易引发状态混乱而难以定位。

## 直接操作 DOM

把操作封装成指令。

甚至引入 jQuery。

## 使用数组声明 props

生产环境的组件，最好使用对象定义 prop，因为它能给出 prop 足够多的信息，且可对 prop 进行验证。

```js
{
  props: ['hello', 'that', 'something-else'] // 要避免这种方式
}
```
